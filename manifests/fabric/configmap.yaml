apiVersion: v1
kind: ConfigMap
metadata:
  name: fabric-lobby-config
  namespace: minecraft
data:
  FabricProxy-Lite.toml: |
    # FabricProxy-Lite configuration
    # Enables Velocity modern forwarding support
    hackOnlineMode = true
    hackEarlySend = false
    disconnectMessage = "Connection error"
    # Secret is read from forwarding.secret file
    secret = ""
  server.properties: |
    # Minecraft server properties
    # Managed by GitOps - do not edit directly on server

    # Server is behind Velocity proxy
    online-mode=false

    # Server settings
    server-port=25565
    server-ip=0.0.0.0
    max-players=100
    view-distance=10
    simulation-distance=10

    # World settings
    level-name=world
    level-type=minecraft\:normal
    gamemode=survival
    difficulty=normal
    hardcore=false
    pvp=true
    spawn-protection=0

    # Network settings
    network-compression-threshold=256
    max-tick-time=60000
    rate-limit=0

    # RCON settings (disabled for now - use internal cluster access)
    enable-rcon=false
    rcon.port=25575
    rcon.password=

    # Performance
    sync-chunk-writes=true
    entity-broadcast-range-percentage=100

    # Misc
    allow-flight=false
    spawn-animals=true
    spawn-monsters=true
    spawn-npcs=true
    motd=Bentley Alberta Minecraft - Lobby
    enable-command-block=false
    white-list=false
    enforce-whitelist=false
    enable-query=false
    enable-status=true
    hide-online-players=false
    enforce-secure-profile=false
